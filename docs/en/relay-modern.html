<html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/><title>Introduction to Relay Modern · Relay</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="Introduction to Relay Modern · Relay"/><meta property="og:type" content="website"/><meta property="og:url" content="https://facebook.github.io/relay/index.html"/><meta property="og:description" content="Relay Modern is a new version of Relay designed from the ground up to be easier to use, more extensible and, most of all, able to improve performance on mobile devices. Relay Modern accomplishes this with static queries and ahead-of-time code generation."/><link rel="shortcut icon" href="/relay/img/favicon.png"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="stylesheet" href="/relay/css/main.css"/></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/relay/"><img class="logo" src="/relay/img/relay-white.svg"/><h2 class="headerTitle">Relay</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/relay/docs/en/getting-started.html" target="_self">Docs</a></li><li><a href="/relay/en/help.html" target="_self">Support</a></li><li><a href="https://github.com/facebook/relay" target="_self">GitHub</a></li><li><a target="_self"></a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Relay Modern</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Quick Start</h3><ul><li class="navListItem"><a class="navItem" href="/relay/docs/en/getting-started.html">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/tutorial.html">Tutorial</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/thinking-in-graphql.html">Thinking in GraphQL</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/thinking-in-relay.html">Thinking In Relay</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/videos.html">Videos</a></li></ul></div><div class="navGroup navGroupActive"><h3>Relay Modern</h3><ul><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/relay/docs/en/relay-modern.html">Introduction to Relay Modern</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/new-in-relay-modern.html">New in Relay Modern</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/relay-environment.html">The Relay &quot;Environment&quot;</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/network-layer.html">The Relay Network Layer</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/query-renderer.html">QueryRenderer</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/fragment-container.html">FragmentContainer</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/refetch-container.html">RefetchContainer</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/pagination-container.html">PaginationContainer</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/routing.html">Routing</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/mutations.html">Mutations</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/subscriptions.html">Subscriptions</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/relay-directives.html">Directives</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/babel-plugin-relay.html">babel-plugin-relay</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/relay-compiler.html">Relay Compiler</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/relay-debugging.html">Debugging</a></li></ul></div><div class="navGroup navGroupActive"><h3>Relay Compat</h3><ul><li class="navListItem"><a class="navItem" href="/relay/docs/en/relay-compat.html">Compatibility Mode</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/conversion-playbook.html">Conversion Playbook</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/conversion-scripts.html">Conversion Scripts</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/upgrading-setvariables.html">Upgrading setVariables</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/compatibility-cheatsheet.html">Compatibility Cheatsheet</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/api-cheatsheet.html">API Cheatsheet</a></li></ul></div><div class="navGroup navGroupActive"><h3>Relay Classic Guides</h3><ul><li class="navListItem"><a class="navItem" href="/relay/docs/en/guides-containers.html">Containers</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/guides-routes.html">Routes</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/guides-root-container.html">Root Container</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/guides-ready-state.html">Ready State</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/guides-mutations.html">Mutations</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/guides-network-layer.html">Network Layer</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/guides-babel-plugin.html">Babel Relay Plugin</a></li></ul></div><div class="navGroup navGroupActive"><h3>GraphQL</h3><ul><li class="navListItem"><a class="navItem" href="/relay/docs/en/graphql-relay-specification.html">GraphQL Relay Specification</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/graphql-object-identification.html">Object Identification</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/graphql-connections.html">Connection</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/graphql-mutations.html">Mutations</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/graphql-further-reading.html">Further Reading</a></li></ul></div><div class="navGroup navGroupActive"><h3>Relay Classic API</h3><ul><li class="navListItem"><a class="navItem" href="/relay/docs/en/api-reference-relay.html">Relay</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/api-reference-relay-container.html">RelayContainer</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/api-reference-relay-route.html">Relay.Route</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/api-reference-relay-renderer.html">Relay.Renderer</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/api-reference-relay-root-container.html">Relay.RootContainer</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/api-reference-relay-ql.html">Relay.QL</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/api-reference-relay-mutation.html">Relay.Mutation</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/api-reference-relay-graphql-mutation.html">Relay.GraphQLMutation</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/api-reference-relay-proptypes.html">Relay.PropTypes</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/api-reference-relay-store.html">Relay.Store</a></li></ul></div><div class="navGroup navGroupActive"><h3>Relay Classic Interfaces</h3><ul><li class="navListItem"><a class="navItem" href="/relay/docs/en/interfaces-relay-mutation-request.html">RelayMutationRequest</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/interfaces-relay-network-layer.html">RelayNetworkLayer</a></li><li class="navListItem"><a class="navItem" href="/relay/docs/en/interfaces-relay-query-request.html">RelayQueryRequest</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/facebook/relay/edit/master/docs/Modern-Introduction.md" target="_blank">Edit</a><h1>Introduction to Relay Modern</h1></header><article><div><span><p>Relay Modern is a new version of Relay designed from the ground up to be easier to use, more extensible and, most of all, able to improve performance on mobile devices. Relay Modern accomplishes this with static queries and ahead-of-time code generation.</p>
<h2><a class="anchor" aria-hidden="true" name="getting-started"></a><a href="#getting-started" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Getting Started</h2>
<h3><a class="anchor" aria-hidden="true" name="upgrade-to-react-relay-v100"></a><a href="#upgrade-to-react-relay-v100" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrade to react-relay v1.0.0</h3>
<p>Relay v1.0 introduces the Relay Modern API:</p>
<pre><code class="hljs css sh">yarn add react-relay
</code></pre>
<p>When upgrading an existing Relay app, replace all <code>require('react-relay')</code> with <code>require('react-relay/classic')</code> to continue to import the Relay Classic API.</p>
<h3><a class="anchor" aria-hidden="true" name="set-up-babel-plugin-relay"></a><a href="#set-up-babel-plugin-relay" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Set up babel-plugin-relay</h3>
<p>Relay Modern requires a Babel plugin to convert GraphQL to runtime artifacts:</p>
<pre><code class="hljs css sh">yarn add --dev babel-plugin-relay
</code></pre>
<p>Add <code>&quot;relay&quot;</code> to the list of plugins your .babelrc file. See <a href="./babel-plugin-relay.html">the docs</a> if upgrading an existing Relay app.</p>
<h3><a class="anchor" aria-hidden="true" name="set-up-relay-compiler"></a><a href="#set-up-relay-compiler" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Set up relay-compiler</h3>
<p>Relay Modern's ahead-of-time compilation requires the new Relay Compiler:</p>
<pre><code class="hljs css sh">yarn add --dev relay-compiler
</code></pre>
<p>Run the Relay Compiler after making changes to any GraphQL in your Relay application. It may be helpful to add it as a <code>yarn script</code>. Add an entry to <code>&quot;scripts&quot;</code> in your package.json file.</p>
<pre><code class="hljs css js"><span class="hljs-string">"relay"</span>: <span class="hljs-string">"relay-compiler --src ./src --schema path/schema.graphql"</span>
</code></pre>
<p>Then after making edits to your application files, just run <code>yarn run relay</code> to generate new files, or <code>yarn run relay --watch</code> to run the compiler as a long-lived process which automatically generates new files whenever you save.</p>
<h2><a class="anchor" aria-hidden="true" name="javascript-environment-requirements"></a><a href="#javascript-environment-requirements" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>JavaScript environment requirements</h2>
<p>The Relay Modern packages distributed on NPM use the widely-supported ES5
version of JavaScript to support as many browser environments as possible.</p>
<p>However, Relay Modern expects modern JavaScript global types (<code>Map</code>, <code>Set</code>,
<code>Promise</code>, <code>Object.assign</code>) to be defined. If you support older browsers and
devices which may not yet provide these natively, consider including a global
polyfill in your bundled application, such as <a href="https://github.com/zloirock/core-js">core-js</a> or
<a href="https://babeljs.io/docs/usage/polyfill/">babel-polyfill</a>.</p>
<p>A polyfilled environment for Relay using <a href="https://github.com/zloirock/core-js">core-js</a> to support older browsers
might look like:</p>
<pre><code class="hljs css js"><span class="hljs-built_in">require</span>(<span class="hljs-string">'core-js/es6/map'</span>);
<span class="hljs-built_in">require</span>(<span class="hljs-string">'core-js/es6/set'</span>);
<span class="hljs-built_in">require</span>(<span class="hljs-string">'core-js/es6/promise'</span>);
<span class="hljs-built_in">require</span>(<span class="hljs-string">'core-js/es6/object'</span>);

<span class="hljs-built_in">require</span>(<span class="hljs-string">'./myRelayApplication'</span>);
</code></pre>
<h2><a class="anchor" aria-hidden="true" name="migrating-to-relay-modern"></a><a href="#migrating-to-relay-modern" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Migrating to Relay Modern</h2>
<p>Migrating a Relay Classic app to Relay Modern doesn't require rewriting from
scratch. Instead, you can convert one component at a time to the Relay Modern API while
continuing to have a working app. Once all components have been converted, the
smaller and faster Relay Modern runtime can be used.</p>
<p>During this migration, use the <a href="./relay-compat.html">Relay Compat</a> tools and APIs to work with both Relay Classic and Relay Modern.</p>
<h2><a class="anchor" aria-hidden="true" name="idea"></a><a href="#idea" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Idea</h2>
<p><a href="https://facebook.github.io/react/">React</a> allows views to be defined as components where every component is responsible for rendering a part of the UI. Composing other components is how to build complex UIs. Each React component doesn't need to know the inner workings of the composed components.</p>
<p>Relay couples React with GraphQL and develops the idea of encapsulation further. It allows components to specify what data they need and the Relay framework provides the data. This makes the data needs of inner components opaque and allows composition of those needs. Thinking about what data an app needs becomes localized to the component making it easier to reason about what fields are needed or no longer needed.</p>
<h2><a class="anchor" aria-hidden="true" name="terminology"></a><a href="#terminology" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Terminology</h2>
<h3><a class="anchor" aria-hidden="true" name="container"></a><a href="#container" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Container</h3>
<p>Relay Modern containers combine standard React components with a description of their data requirements, expressed as one or more GraphQL fragments. Each container is itself a standard React component that can be rendered using the standard React API (e.g. <code>&lt;YourComponent prop={...} /&gt;</code>). When rendered, a container will read the data for its fragment from the Relay cache. As the fragment data changes - for example due to a mutation, subscription, or updated query response - the container will automatically re-render the component.</p>
<p><a href="./fragment-container.html"><code>createFragmentContainer</code></a> returns a basic container that cannot fetch additional data beyond what is declared in its fragment(s). Relay Modern also provides more advanced containers for dynamic use cases (which were previously handled in Relay Classic via <code>setVariables</code>):</p>
<h4><a class="anchor" aria-hidden="true" name="refetching-data-aka-see-more"></a><a href="#refetching-data-aka-see-more" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Refetching Data (aka &quot;See More&quot;)</h4>
<p><a href="./refetch-container.html"><code>createRefetchContainer</code></a> is a variation of <code>createFragmentContainer</code> that addresses the &quot;see more&quot; use case, where a subset of data is rendered initially and then additional data is fetched on demand. Refetch containers initially fetch data for their fragments just like fragment containers, but also offer a <code>refetch()</code> method by which additional data can be fetched, or the container can be re-rendered to read data using different variables.</p>
<h3><a class="anchor" aria-hidden="true" name="pagination-container"></a><a href="#pagination-container" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Pagination Container</h3>
<p>This is a specialization of the general-purpose refetch container that is tailored for the common scenario of paginating through a collection of items by fetching successively more pages of data. See <a href="./pagination-container.html"><code>createPaginationContainer</code></a> for details.</p>
<h3><a class="anchor" aria-hidden="true" name="query-renderer"></a><a href="#query-renderer" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Query Renderer</h3>
<p><a href="./query-renderer.html"><code>QueryRenderer</code></a> manages the execution of the GraphQL query. It sends the query with given variables, parses the response, saves the data to the internal cache, and finally renders the view.</p>
<h3><a class="anchor" aria-hidden="true" name="relay-environment"></a><a href="#relay-environment" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Relay Environment</h3>
<p>An instance of a <a href="./relay-environment.html">Relay Environment</a> encapsulates an in-memory cache of GraphQL data and a network layer that provides access to your GraphQL server. The Environment object is typically not used by developers directly, instead it is passed to each <a href="./query-renderer.html"><code>QueryRenderer</code></a>, which uses the environment to access, modify, and fetch data. Within a container, the current environment can be accessed via <code>this.props.relay.environment</code>. This is most commonly used to <a href="./mutations.html">execute a mutation</a>.</p>
<h3><a class="anchor" aria-hidden="true" name="network-layer"></a><a href="#network-layer" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Network layer</h3>
<p>Applications must supply a <a href="./network-layer.html">Network Layer</a> when creating an instance of a Relay Environment. The network layer is an object conforming to a simple interface through which Relay can execute queries, mutations, and subscriptions. Essentially, this object teaches Relay how to talk to your GraphQL server.</p>
<h2><a class="anchor" aria-hidden="true" name="workflow"></a><a href="#workflow" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Workflow</h2>
<p>One of the big ideas behind the new API is that execution can be made a lot more efficient by moving work ahead-of-time: from the runtime of the app to the build-time. As such, changes to GraphQL fragments require a build step to regenerate a set of artifacts. More on <a href="./relay-compiler.html">the Relay Compiler</a>.</p>
<h2><a class="anchor" aria-hidden="true" name="comparing-relay-classic-and-relay-modern"></a><a href="#comparing-relay-classic-and-relay-modern" aria-hidden="true" class="hash-link" ><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Comparing Relay Classic and Relay Modern</h2>
<p>Relay Modern enables a variety of new features. Some are available via the Compat API, while others require upgrading fully to the Modern runtime. See <a href="./new-in-relay-modern.html">what's new in Relay Modern</a> for more details.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="videos.html">← Videos</a><a class="docs-next button" href="new-in-relay-modern.html">New in Relay Modern →</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/relay/" class="nav-home"><img src="/relay/img/relay.svg" alt="Relay" width="66" height="58"/></a><div><h5>Docs</h5><a href="/relay/docs/en/getting-started.html">Getting Started</a></div><div><h5>Community</h5><a href="/relay/en/users.html">User Showcase</a></div><div><h5>More</h5><a href="https://github.com/facebook/relay">GitHub</a><a class="github-button" href="https://github.com/facebook/relay" data-icon="octicon-star" data-count-href="/facebook/relay/stargazers" data-count-api="/repos/facebook/relay#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><a href="https://code.facebook.com/projects/" target="_blank" class="fbOpenSource"><img src="/relay/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><section class="copyright">Copyright © 2017 Facebook Inc.</section></footer></div><script type="text/javascript" src="//cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
              var search = docsearch({
                apiKey: '3d7d5825d50ea36bca0e6ad06c926f06',
                indexName: 'relay',
                inputSelector: '#search_input_react'
              });
            </script></body></html>